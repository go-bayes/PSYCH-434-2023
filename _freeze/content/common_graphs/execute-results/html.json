{
  "hash": "b40de3e10cc886ea70a65c64149663d4",
  "result": {
    "markdown": "---\ntitle: \"Causal Graphs: A Practical Guide\"\nexecute:\n  warning: false\ncode_folding: true\necho: true\ndraft: false\nauthor:\n  - name: Joseph Bulbulia\norcid: 0000-0002-5861-2056\naffiliation: Victoria University of Wellington, New Zealand\nemail: joseph.bulbulia@vuw.ac.nz\ncorresponding: yes\ndate-format: short\nsanitize: true\nkeep-tex: false\neditor_options: \n  chunk_output_type: inline\n---\n\n\n\n\n\n## Common Causal Graphs\n\n\n\n\n\n\n## Graphs of Canonical confounders\n\n\n### First Problem: there is a common cause of an exposure and outcome\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias](common_graphs_files/figure-html/fig-dag-common-cause-1.png){#fig-dag-common-cause width=100%}\n:::\n:::\n\n\n\n\n### Solution: adjust for the pre-exposure confounder\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias: solve by stratification](common_graphs_files/figure-html/fig-dag-common-cause-solution-1.png){#fig-dag-common-cause-solution width=100%}\n:::\n:::\n\n\n\n### Second problem: conditioning on a common effect \n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias: solve by stratification](common_graphs_files/figure-html/fig-dag-common-effect-1.png){#fig-dag-common-effect width=100%}\n:::\n:::\n\n\n\n\n### Solution: ensure confounders are measured before the exposure\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias: solve by stratification](common_graphs_files/figure-html/fig-dag-common-effect-solution-1.png){#fig-dag-common-effect-solution width=100%}\n:::\n:::\n\n\n\n\n### Third problem: conditioning on a mediator \n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias](common_graphs_files/figure-html/fig-dag-mediator-1.png){#fig-dag-mediator width=100%}\n:::\n:::\n\n\n\n\n### Solution: ensure confounders are measured before the exposure.\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias](common_graphs_files/figure-html/fig-dag-mediator-solution-1.png){#fig-dag-mediator-solution width=100%}\n:::\n:::\n\n\n\n### Fourth problem: conditioning on a descendant\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias](common_graphs_files/figure-html/fig-dag-descendent-1.png){#fig-dag-descendent width=100%}\n:::\n:::\n\n\n\n### Solution: ensure that counfounders are measured before the exposure\n\nNote that that ensuring the confounder is measured before the exposure has a benefiting property. If the unmeasured confounder is associated with both A and Y, as well as with L, adjusting for L will diminish confounding arising from the unmeasured confounder. \n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias](common_graphs_files/figure-html/fig-dag-descendent-solution-1.png){#fig-dag-descendent-solution width=100%}\n:::\n:::\n\n\n\n### What if mediation is of interest? \n\n\nConsider the assumptions required for mediation analysis.\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Assumptions for mediation analysis](common_graphs_files/figure-html/fig-dag-mediation-assuptions-1.png){#fig-dag-mediation-assuptions width=100%}\n:::\n:::\n\n\n\n## EXAMPLES \n\n\n### Common cause of exposure and outcome. \n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias](common_graphs_files/figure-html/fig-dag-1-1.png){#fig-dag-1 width=100%}\n:::\n:::\n\n\n### Solution: Adjust for Confounder\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias: solve by stratification](common_graphs_files/figure-html/fig-dag-2-1.png){#fig-dag-2 width=100%}\n:::\n:::\n\n\n\n\n### Bias: exposure at baseline is a common cause of the exposure at t1 and outcome at t2\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias from pre-exosure indicator](common_graphs_files/figure-html/fig-dag-3-1.png){#fig-dag-3 width=100%}\n:::\n:::\n\n\n\n\n\n### Solution: adjust for confounder at baseline\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph reveals bias from pre-exosure indicator](common_graphs_files/figure-html/fig-dag-4-1.png){#fig-dag-4 width=100%}\n:::\n:::\n\n\n\n\n\n###  A more thorough confounding control\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph:more general panel design](common_graphs_files/figure-html/fig-dag-5-1.png){#fig-dag-5 width=100%}\n:::\n:::\n\n\n\n###  Generic 3-wave panel design (VanderWeeele 2020)\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph: three-wave panel design](common_graphs_files/figure-html/fig-dag-6-1.png){#fig-dag-6 width=100%}\n:::\n:::\n\n\n\n\n<!-- ### Selection bias version 1 -->\n\n\n\n\n<!-- ```{tikz} -->\n<!-- #| label: fig-dag-7 -->\n<!-- #| fig-cap: \"Causal graph: three-wave panel design with selection bias\" -->\n<!-- #| out-width: 100% -->\n<!-- #| echo: false -->\n\n<!-- \\usetikzlibrary{positioning} -->\n<!-- \\usetikzlibrary{shapes.geometric} -->\n<!-- \\usetikzlibrary{arrows} -->\n<!-- \\usetikzlibrary{decorations} -->\n<!-- \\tikzstyle{Arrow} = [->, thin, preaction = {decorate}] -->\n<!-- \\tikzset{>=latex} -->\n\n<!-- \\begin{tikzpicture}[{every node/.append style}=draw] -->\n\n<!-- \\node [rectangle, draw=white] (U) at (0, 0) {U}; -->\n<!-- \\node [rectangle, draw=black, align=left] (L) at (2, 0) {t0/L \\\\t0/A \\\\t0/Y}; -->\n<!-- \\node [rectangle, draw=white] (A) at (4, 0) {t1/A}; -->\n<!-- \\node [ellipse, draw=white] (Y) at (6, 0) {t2/Y}; -->\n<!-- \\node [rectangle, draw=black] (S) at (8, 0) {S}; -->\n\n<!-- \\draw [-latex, draw=black] (U) to (L); -->\n<!-- \\draw [-latex, draw=black] (L) to (A); -->\n<!-- \\draw [-latex, bend left=50, draw=black] (L) to (Y); -->\n<!-- \\draw [-latex, bend right=50, draw=black, dotted] (U) to (Y); -->\n<!-- \\draw [-latex, bend left=50, draw=black, dotted] (U) to (A); -->\n<!-- \\draw [-latex, draw=black] (Y) to (S); -->\n<!-- \\draw [-latex, bend right, draw=black] (A) to (S); -->\n<!-- \\draw [-latex, draw=red, dashed] (A) to (Y); -->\n\n\n<!-- \\end{tikzpicture} -->\n\n\n<!-- ``` -->\n\n\n### Selection bias\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Causal graph: three-wave panel design with selection bias](common_graphs_files/figure-html/fig-dag-8-1.png){#fig-dag-8 width=100%}\n:::\n:::\n\n\n\n\n\n\n### Confounder-Treatment Feedback\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Confounder Treatement Feedback](common_graphs_files/figure-html/fig-dag-9-1.png){#fig-dag-9 width=100%}\n:::\n:::\n",
    "supporting": [
      "common_graphs_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}