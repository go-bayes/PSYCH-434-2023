{
  "hash": "6e3fba321298d53589a03e341c1a63c6",
  "result": {
    "markdown": "---\ntitle: \"Measurement from a Causal Perspective\"\ndate: \"2023-MAY-30\"\n---\n\n  \n  \n## Overview\n  \n\n\n\n\n\n\n\n## Two ways of thinking about measurement in psychometric research. \n\n### The Reflective Model (Factor Analysis)\n\n$$X_i = \\lambda_i \\eta + \\varepsilon_i$$\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Reflective model: assume univariate latent variable η giving rise to indicators X1...X3. Figure adapted from VanderWeele: doi: 10.1097/EDE.0000000000001434](11-content_files/figure-html/fig-dag-latent-1-1.png){#fig-dag-latent-1 width=80%}\n:::\n:::\n\n\n\n### The Formative Model (Factor Analysis)\n\n$$\\eta = \\sum_i\\lambda_i X_i + \\varepsilon$$\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Formative model:: assume univariate latent variable from which the indicators X1...X3 give rise. Figure adapted from VanderWeele: doi: 10.1097/EDE.0000000000001434](11-content_files/figure-html/fig-dag-latent-formative_0-1.png){#fig-dag-latent-formative_0 width=80%}\n:::\n:::\n\n\n\n## Structural Interpretation of the formative model and reflective models (Factor Analysis)\n\n> However, this analysis of reflective and formative models assumed that the latent η was causally efficacious. This may not be the case.\n\nStatistically, the formative model implies $X_i = \\lambda_i \\eta + \\varepsilon_i$. However, in the tradition of factor analysis, people have interpreted the formative model to imply a single univariate latent reality as implied by @fig-structural-assumptions-reflective-model. Such an interpretation has makes strong causal assumptions. \n\nSimilarly, statistically, the formative model implies $\\eta = \\sum_i\\lambda_i X_i + \\varepsilon$. However, in the tradition of factor analysis, people have interpreted the formative model to imply a single underlying univariate latent reality as in  @fig-dag-reflective-assumptions_note. This too makes strong causal assumptions. **Cross sectional data cannot decide between these assumptions.**\n\n\n::: {#fig-latent layout-ncol=1}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Reflective Model: causal assumptions. Figure adapted from VanderWeele: doi: 10.1097/EDE.0000000000001434](11-content_files/figure-html/fig-structural-assumptions-reflective-model-1.png){#fig-structural-assumptions-reflective-model width=100%}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Formative model: causal assumptions. Figure adapted from VanderWeele: doi: 10.1097/EDE.0000000000001434](11-content_files/figure-html/fig-dag-reflective-assumptions_note-1.png){#fig-dag-reflective-assumptions_note width=100%}\n:::\n:::\n\n\nThe formative model implies $X_i = \\lambda_i \\eta + \\varepsilon_i$, which factor analysts take to imply @fig-structural-assumptions-reflective-model. \n\nThe formative model implies $\\eta = \\sum_i\\lambda_i X_i + \\varepsilon$, which factor analysts take to imply @fig-dag-reflective-assumptions_note. \n\n:::\n\n\n## Problems with the traditional factor analytic interpretation.\n\n\nAlthough the statistical model $X_i = \\lambda_i \\eta + \\varepsilon_i$ is compatible with @fig-structural-assumptions-reflective-model, it is also compatible with @fig-dag-formative-assumptions-compatible.  Cross-sectional data cannot discriminate between these structural interpretations\n\nLikewise, although the the statistical model $\\eta = \\sum_i\\lambda_i X_i + \\varepsilon$ is compatible with @fig-dag-reflective-assumptions_note, it is also compatible with @fig-dag-reflectiveassumptions-compatible_again. Again, cross-sectional data cannot discriminate between these structural interpretations. \n\n\nIndeed there are many realities with which the data are compatible!\n\n\n\n::: {#fig-latent layout-ncol=1}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Formative model is compatible with indicators causing outcome](11-content_files/figure-html/fig-dag-formative-assumptions-compatible-1.png){#fig-dag-formative-assumptions-compatible width=100%}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Reflective model is compatible with indicators causing the outcome](11-content_files/figure-html/fig-dag-reflectiveassumptions-compatible_again-1.png){#fig-dag-reflectiveassumptions-compatible_again width=100%}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Multivariate reality gives rise to the indicators, from which we draw our measures](11-content_files/figure-html/fig-dag-multivariate-reality_again-1.png){#fig-dag-multivariate-reality_again width=100%}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Although we take our constructs, A, to be functions of indicators, X, such that, perhaps only one or several of the indicators are efficacious.](11-content_files/figure-html/fig-dag-multivariate-reality-bulbulia-1.png){#fig-dag-multivariate-reality-bulbulia width=100%}\n:::\n:::\n\n\n\n\nThe statistical models that underpin formative and reflective conceptions of factor analysis are compatible with indicators having causal effects, and with a multivariate reality giving rise to multiple indicators.\n\n:::\n\n\n\n\n## The theory of mutliple versions of treatment\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Multiple Versions of treatment](11-content_files/figure-html/fig-dag-multiple-version-treatment-1.png){#fig-dag-multiple-version-treatment width=100%}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Multiple Versions of treatment applied to measurement](11-content_files/figure-html/fig-dag-multiple-version-treatment-applied-measurement-1.png){#fig-dag-multiple-version-treatment-applied-measurement width=100%}\n:::\n:::\n\n\n\n## VanderWeele's model of reality (is this a causal diagramme?)\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Multivariate reality gives rise to the latent variables,...](11-content_files/figure-html/fig-dag-multivariate-reality-complete-1.png){#fig-dag-multivariate-reality-complete width=100%}\n:::\n:::\n\n\n\nHowever this is not a causal graph. Can we do better? \n\n## Perhaps the theory of dependent and directed measurement error does better?\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Measurement error opens a pathway to confounding if either there are correlated errors, or a directed effect of the exposure on the errors of measured outcome.](11-content_files/figure-html/fig-dag-dep-udir-effect-confounders-3wave-1.png){#fig-dag-dep-udir-effect-confounders-3wave width=100%}\n:::\n:::\n\n\n\n\n<!-- ```{tikz} -->\n<!-- #| label: fig-dag-multivariate-reality-complete-bulbulia -->\n<!-- #| fig-cap: \"Multivariate reality gives rise to the latent variables,if reality continues to strongly effect η at t0 ...tn, there is an open backdoor path to Y through our concepts and constructs.\" -->\n<!-- #| out-width: 100% -->\n<!-- #| echo: false -->\n\n<!-- \\usetikzlibrary{positioning} -->\n<!-- \\usetikzlibrary{shapes.geometric} -->\n<!-- \\usetikzlibrary{arrows} -->\n<!-- \\usetikzlibrary{decorations} -->\n<!-- \\tikzstyle{Arrow} = [->, thin, preaction = {decorate}] -->\n<!-- \\tikzset{>=latex} -->\n\n<!-- \\begin{tikzpicture}[{every node/.append style}=draw] -->\n\n\n<!-- \\node [rectangle, draw=white, align=left] (R) at (0, 0 ) {$\\mathcal{R}$\\\\ -->\n<!--   concepts$^{~}$\\\\constructs$^{~}$}; -->\n<!-- \\node [rectangle, draw=white] (eta0) at (3, 0 ) {$\\eta^{t0}$}; -->\n<!-- \\node [rectangle, draw=black] (X0) at (6, 0 ) {$(X_1 \\dots X_n)^{t0}$}; -->\n<!-- \\node [rectangle, draw=white] (eta1) at (10, 0 ) {$\\eta^{t1}$}; -->\n<!-- \\node [rectangle, draw=black] (X1) at (12, 0 ) {$(X_1 \\dots X_n)^{t1}$}; -->\n<!-- \\node [rectangle, draw=white] (Y) at (14, 0 ) {Y$^{t2}$}; -->\n\n\n\n\n<!-- \\draw [-latex, draw=red, bend left=80] (R) to (Y); -->\n<!-- \\draw [-latex, draw=black] (R) to (eta0); -->\n<!-- \\draw [-latex, draw=black, bend left, red] (R) to (eta1); -->\n<!-- \\draw [-latex, draw=black] (eta0) to (X0); -->\n<!-- \\draw [-latex, draw=black, bend right=40] (eta0) to (X1); -->\n<!-- \\draw [-latex, draw=black] (eta1) to (X1); -->\n<!-- \\draw [-latex, draw=red,dotted, bend left=40] (eta1) to (Y); -->\n\n\n\n\n\n\n<!-- \\end{tikzpicture} -->\n<!-- ``` -->\n\n\n\n\n\n\n\n### Appendix: Detail: VanderWeele's use of the theory of multiple versions of treatment\n\n\nRecall, a causal effect is defined as the difference in the expected potential outcome when everyone is exposed (perhaps contrary to fact) to one level of a treatment, conditional on their levels of a confounder,  with the expected potential outcome when everyone is exposed to a a different level of a treatement  (perhaps contrary to fact), conditional on their levels of a counfounder.  \n\n$$ \\Delta_{ate} = \\sum_c \\left( \\mathbb{E}[Y|A=a,c] - \\mathbb{E}[Y|A=a^*,c] \\right) P(c)$$\n\n\n\nIn causal inference, the multiple versions of treatment theory allows us to handle situations where the treatment isn't uniform, but instead has several variations. Each variation of the treatment, or \"version\", can have a different impact on the outcome. This theory allows us to consider these varying impacts in our causal models.\n\nUnder the multiple versions of treatment framework, the consistency assumption is redefined. It requires that for each version of the treatment, the outcome under that version is equal to the observed outcome when that version is received. \n\n\nFurther, a \"no confounding\" assumption is required, which states that the potential outcomes for each version are independent of the version received, given the covariates.\n\n\nThe absence of confounding for the effect of $K$ on $Y$ given $C$ is denoted when Y$_k$ is independent of $K$, conditionally based on $C$ or $Y_k \\coprod A|K,C$ (i.e. conditional on$C$, $A$ gives no information about $Y$ once $K$ and $C$ are accounted for) . The consistency assumption is deemed to be valid when $Y = Y_k$ if $K = k$. \n\nLet's assume the researcher only possesses data on $(A, Y, C)$. When Y$_k$ is conditionally independent of $K$ based on $C$, there is no confounding for the effect of $K$ on $Y$ given $C$. Then for any  $K = k$ results in $Y = Y_k$, the consistency assumption is met. Let's suppose only information on $(A, Y, C)$  is available to the researcher.\n\n\n\n$$ \\Delta_{ate} = \\sum_{k,c} \\mathbb{E}[Y_k|c] P(k|a,c) P(c) - \\sum_{k,c} \\mathbb{E}[Y_k|c] P(k|a^*,c) P(c)$$\n\n\nIt represents a comparison in a hypothetical randomised trial. In this scenario, within covariates $C$ strata, individuals in one group receive a treatment $K$ version randomly assigned from the inherent $K$ distribution in the $(A = a, C = c)$ subpopulation. Meanwhile, individuals in the other group receive a randomly assigned $K$ version from the same distribution.\n\nThis theory finds its utility in practical scenarios where treatments seldom resemble each other, like healthcare where different doctors may administer slightly distinct treatments, or in education where teaching methods differ. By incorporating these treatment variations, we gain more accurate insights into the causal effect.\n\nSo VanderWeele proposes that this theory of causal inference under multiple treatments could be advantageous for handling the consistency assumption. \n\n\nHe next proposes that this theory may be helpful for explaining measurements. \n\n\n\n### Reflective and formative measurement models may be approached from the Multiple Versions of Treatment Theory.\n\n\nRecall the theory of multiple versions of treatments. This concept accounts for varying impacts of different treatment versions on the outcome. The consistency assumption is revisited.When a specific version of treatment is received, the observed outcome matches the outcome under *that* version. In addition, the theory requires \"no confounding\" given measured covariates for each version are of the treatment.\n\n\nVanderweele applies the following substitution: \n\n\n$$\\Delta_{ate} = \\sum_{\\eta,c} \\mathbb{E}[Y_\\eta|c] P(\\eta|A=a+1,c) P(c) - \\sum_{\\eta,c} \\mathbb{E}[Y_\\eta|c] P(\\eta|A=a,c) P(c)$$\nVanderWeele substitutes $K$ with $\\eta$ from the previous section, and compare measurement level $A = a + 1$ with $A = a$. Now, if the influence of $\\eta$ on $Y$ is not confounded given $C$\n\nThus despite varying reliabilities $\\eta_i$, which might be overlooked, $\\Delta_{ate}$ retains its interpretability as a comparison in a hypothetical randomised trial. \n\nHere, within the strata of covariates $C$, individuals in one group are randomised to a value of $\\eta$, derived from the actual $\\eta$ distribution in the subpopulation with $(A = a + 1, C = c)$. In the other group, individuals are randomized to a $\\eta$ value from the distribution in the subpopulation with $(A = a, C = c)$.\n\nIn essence, this connection between measurement and the multiple versions of treatment framework provides a powerful tool for causal inference varying reliabilities of measurement.\n\nHowever, as with the theory of multiple treatments, we might not known how to interpret our results.  \n\n\nNote that the same considerations apply to the \"formative model of measurement\" where it is assumed that the latent $\\eta$ is causally efficacious such that: \n\nHowever, as with the theory of multiple treatments and the reflective model, we might not known how to interpret our results for the formative model\n\n\n\n  \n  \n## Slides\n",
    "supporting": [
      "11-content_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}